(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-01e1e089"],{"5a4e":function(e,t,n){"use strict";var a=n("685a"),c={props:{title:{type:String,default:""}},data:function(){return{checkIOS:!1}},mounted:function(){this.checkIOS=Object(a.a)()},methods:{goBack:function(){this.$router.back()}}},s=(n("732a"),n("0c7c")),o=Object(s.a)(c,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head-box",class:{sticky:this.checkIOS}},[t("header",{staticClass:"head-box-inner",class:{sticky:this.checkIOS}},[t("div",{staticClass:"back-btn"}),t("div",{staticClass:"title"},[this._v(this._s(this.title))])]),this.checkIOS?this._e():t("div",{staticClass:"empty-block"})])},[],!1,null,"352bd190",null);t.a=o.exports},6284:function(e,t,n){},"685a":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});n("4917");var a=function(){var e=window.navigator.userAgent;return/micromessenger/i.test(e)},c=function(){return!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},"732a":function(e,t,n){"use strict";var a=n("98d2");n.n(a).a},"98d2":function(e,t,n){},a872:function(e,t,n){"use strict";var a=n("6284");n.n(a).a},f341:function(e,t,n){"use strict";n.r(t);n("28a5");var a=n("5a4e"),c=n("b970"),s={name:"serviceConfirm",data:function(e){return{searchParam:"",phoneNumber:"",smsCodeBtnValue:"获取验证码",smsCode:"",countdownSize:60,curCount:0}},methods:{getSmsCode:function(){var e=this;if(""!=e.phoneNumber)if(/^1[3|4|5|7|8]\d{9}$/.test(e.phoneNumber))if(""!==e.searchParam){this.$fetch("/pubWeb/system/public/jidsmsCode?jid="+e.searchParam+"&number="+e.phoneNumber).then(function(t){t?Object(c.j)("短信发送成功！"):(Object(c.j)("手机号跟业务登记号不匹配!"),e.curCount=0)}).catch(function(e){console.log(e)}),e.curCount=e.countdownSize,e.smsCodeBtnValue="倒计时 "+e.curCount+"S";var t=setInterval(function(){e.curCount>0?(e.curCount--,e.smsCodeBtnValue="倒计时 "+e.curCount+"S"):(clearInterval(t),e.smsCodeBtnValue="获取验证码")},1e3)}else Object(c.j)("请输入业务登记号！");else Object(c.j)("手机号码格式不正确！");else Object(c.j)("请输入手机号码！")},search:function(){var e=this;""!==this.smsCode?""!==e.searchParam?this.$fetch("/formengineWebService/public/getConfigDataByJid?jid="+e.searchParam+"&number="+e.phoneNumber+"&code="+e.smsCode).then(function(t){t?e.$router.push({path:"/messageApprove",query:{token:e.searchParam}}):Object(c.j)("请输入正确的验证码！")}).catch(function(e){console.log(e)}):Object(c.j)("请输入业务登记号！"):Object(c.j)("请输入验证码！")}},components:{"page-head":a.a},mounted:function(){this.$fetch("/pubWeb/public/getWeChatConfig?url="+window.location.href.split("#")[0]).then(function(e){wx.config(e),console.log(e)})}},o=(n("a872"),n("0c7c")),r=Object(o.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"service-confirm"},[n("page-head",{attrs:{title:"业务确认"}}),n("div",{staticClass:"search-div"},[n("van-search",{attrs:{placeholder:"请输入业务登记号","show-action":"",background:"#f0f5f8"},on:{search:e.search},model:{value:e.searchParam,callback:function(t){e.searchParam=t},expression:"searchParam"}},[n("div",{staticClass:"btn-color",attrs:{slot:"action"},on:{click:e.search},slot:"action"},[e._v("搜索")])])],1),n("van-cell-group",[n("van-field",{attrs:{id:"phoneNumber",placeholder:"请输入手机号码",type:"number",clearable:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber="string"==typeof t?t.trim():t},expression:"phoneNumber"}}),n("van-field",{attrs:{center:"",clearable:"",type:"number",placeholder:"请输入验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}},[n("van-button",{staticClass:"btn-color",attrs:{slot:"button",size:"small",type:"default",disabled:0!=e.curCount},on:{click:e.getSmsCode},slot:"button"},[e._v(e._s(e.smsCodeBtnValue)+"\n\t\t\t")])],1)],1)],1)},[],!1,null,"3bcb4df7",null);t.default=r.exports}}]);