(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fd62f312"],{"32ee":function(e,t,s){"use strict";var a=s("b8c5");s.n(a).a},"3b7f":function(e,t,s){"use strict";s.r(t);var a=s("f499"),i=s.n(a),l=(s("7f7f"),s("6762"),s("2fdb"),s("5d73")),c=s.n(l),n=s("b6d0"),r=s.n(n),u=s("774e"),o=s.n(u),h=s("a4bb"),d=s.n(h),f=s("7618"),b=s("5a4e"),v=s("b970"),p=s("751a"),y=s("685a"),m=s("a78e"),g=s.n(m),k={components:{"page-head":b.a},data:function(){return{oselect:null,selectItemId:null,showData:[],isDisabled:"disabled",show:!1,select1Data:[],select2Data:[],select3Data:[],select4Data:[],cerType:"",cerTypeValue:"",select1Value:"",select2Value:"",select3Value:"",select4Value:"",selShow1:!0,selShow2:!0,selShow3:!0,name:"",kyys:0,yysl:1,yyfs:"2",cerNumber:"",phoNumber:"",orginational:"",cerTypeData:["身份证","港澳台身份证","护照","户口簿","军官证（士兵证）"]}},computed:{},watch:{select1Value:function(e,t){this.select1()},select2Value:function(){this.select2()},select3Value:function(){this.select3()},select4Value:function(){}},methods:{updateData:function(){console.log("更新数据")},confirmPicker:function(e,t){"select4"==this.selectItemId?this[this.selectItemId+"Value"]=e.text:this[this.selectItemId+"Value"]=e,this.show=!this.show},setData:function(){this.selectItemId},calcedData:function(){var e=[];if("cerType"==this.selectItemId)e=this.cerTypeData;else{var t=this[this.selectItemId+"Data"]||[];if(void 0!==t.length&&t.length>0&&void 0!==t[0]&&"object"!==Object(f.a)(t[0]))return t;var s=[];if(null==(t="object"==Object(f.a)(t)?t[0]:t))return s;s=t[d()(t)[0]];for(var a=0;a<s.length;a++){var i=s[a];"select4"==this.selectItemId?e.push(i):e.push(i[d()(i)[0]])}}return e},selectData:function(){if(0!==this.kyys){var e=""!=event.target.id?event.target.id:""!=event.target.parentElement.id?event.target.parentElement.id:event.target.parentElement.parentElement.id;if(console.log(e),null!=e&&""!=e){switch(e){case"select1":this.showData=this.select1Data;break;case"select2":if(""==this.select1Value)return void Object(v.j)("请选择办理网点");this.showData=this.select1Data;break;case"select3":if(""==this.select2Value)return void Object(v.j)("请选择预约事项");this.showData=this.select1Data;break;case"select4":if(""==this.select3Value)return void Object(v.j)("请选择预约日期");this.showData=this.select1Data}this.selectItemId=e,this.show=!this.show}}else Object(v.j)("当前不可预约！")},changeColor:function(e){var t=document.getElementById(e),s=t.previousElementSibling||t.previousSibling,a=t.parentNode.previousElementSibling||t.parentNode.previousSibling;"certificate"==e?""==t.value?a.style.color="#d7342e":a.style.color="#4ECD5D":""==t.value?s.style.color="#d7342e":s.style.color="#4ECD5D"},select1:function(){var e=this;e.select1Value;Object(p.e)({url:"/GetTSYYRQSD",success:function(t){console.log(t),e.oselect=t.yyxxinfo;var s=[];e.select2Data=[];for(var a=0;a<t.yyxxinfo.length;a++)s.push(t.yyxxinfo[a].YYSX);e.select2Data=o()(new r.a(s))},fail:function(e){}})},select2:function(){this.select3Data=[];var e=[],t=!0,s=!1,a=void 0;try{for(var i,l=c()(this.oselect);!(t=(i=l.next()).done);t=!0){var n=i.value;n.YYSX.includes(this.select2Value)&&e.push(n.YYRQ)}}catch(e){s=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(s)throw a}}this.select3Data=o()(new r.a(e))},select3:function(){var e=this;e.select1Value,e.select2Value,e.select3Value;Object(p.e)({url:"/GetTSYYRQSD",success:function(t){e.select4Data=[];var s=[];e.sel4="";var a=!0,i=!1,l=void 0;try{for(var n,r=c()(t.yyxxinfo);!(a=(n=r.next()).done);a=!0){var u=n.value;if(u.YYSX.includes(e.select2Value)&&u.YYRQ.includes(e.select3Value)){var o=1==u.SFYY?"（已被预约）":"";s.push({text:"".concat(u.YYSD).concat(o),disabled:u.SFYY})}}}catch(e){i=!0,l=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw l}}e.select4Data.push({obj:s}),e.selShow3=!1},fail:function(e){}})},resq:function(){var e=this,t=Object(y.b)()?g.a.get("openid"):"",s={szwd:this.select1Value,yysx:this.select2Value,yyrq:this.select3Value,yysd:this.select4Value,yyfs:this.yyfs,yyr:this.name,zjlx:this.cerTypeValue,zjhm:this.cerNumber,sjhm:this.phoNumber,dwzjjgdm:this.orginational,yysl:this.yysl,zmh:"",openid:t};Object(p.e)({url:"/CheckYYRInfo",data:{strJson:i()(s)},success:function(t){console.log(t),1==t.resultcode||"1"==t.resultcode?e.$router.push({path:"/samsg",query:{response:i()(s)}}):alert(t.resultmsg)},fail:function(e){}})},check:function(){if(""!==this.name&&""!==this.cerNumber&&""!==this.phoNumber&&""!==this.orginational&&""!=this.select1Value&&""!=this.select2Value&&""!=this.select3Value&&""!=this.select4Value){if(!/^([0-9a-zA-Z]{18}$|\d{15}$)/.test(this.orginational))return void Object(v.j)("组织机构代码或营业执照格式不正确！");if(/^1[3|4|5|7|8]\d{9}$/.test(this.phoNumber))if("身份证"==this.cerTypeValue)/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(this.cerNumber)?this.resq():Object(v.j)("身份证格式不正确！");else if("护照"==this.cerTypeValue)/^[a-zA-Z0-9]{3,21}$/.test(this.cerNumber)&&/^(P\d{7})|(G\d{8})$/.test(this.cerNumber)?this.resq():Object(v.j)("护照号码格式不正确！");else if("港澳台身份证"==this.cerTypeValue){/^[A-Z][0-9]{9}$/.test(this.cerNumber)&&/^[A-Z][0-9]{6}\([0-9A]\)$/.test(this.cerNumber)&&/^[157][0-9]{6}\([0-9]\)$/.test(this.cerNumber)?this.resq():Object(v.j)("港澳台身份证号码格式不正确！")}else"户口簿"==this.cerTypeValue&&(/^[a-zA-Z0-9]{3,21}$/.test(this.cerNumber)?this.resq():Object(v.j)("户口簿号码格式不正确！"));else Object(v.j)("手机号码格式不正确！")}else Object(v.j)("请完善个人信息！")}},mounted:function(){var e=this;Object(p.e)({url:"/GetYYBSWD",success:function(t){e.select1Data.push(t)},fail:function(e){}}),Object(p.e)({url:"/GetTSYYRQSD",success:function(t){var s=t.yyxxinfo;if(null!=s&&0!==s.length){var a=s[0].ZYYS-s[0].YYYS;a&&0===a?Object(v.j)("可预约数量为0！"):e.kyys=a}else Object(v.j)("非正常预约时段！")},fail:function(e){}})}},D=(s("32ee"),s("0c7c")),j=Object(D.a)(k,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box-body"},[s("page-head",{attrs:{title:"预约申请"}}),e._m(0),s("van-cell-group",[s("van-cell",{class:e.isDisabled,attrs:{id:"select1",title:"办理网点：",value:e.select1Value,"is-link":"",center:"",required:"","data-type":"list"},on:{click:e.selectData,change:e.updateData}}),s("van-cell",{class:e.isDisabled,attrs:{id:"select2",title:"预约事项：",value:e.select2Value,"is-link":"",center:"",required:"","data-type":"list"},on:{click:e.selectData}}),s("van-cell",{class:e.isDisabled,attrs:{id:"select3",title:"预约日期：",value:e.select3Value,"is-link":"",center:"",required:"","data-type":"time"},on:{click:e.selectData}}),s("van-cell",{class:e.isDisabled,attrs:{id:"select4",title:"预约时段：",value:e.select4Value,"is-link":"",center:"",required:"","data-type":"time"},on:{click:e.selectData}}),s("van-field",{attrs:{id:"kyys",label:"剩余预约数：",clearable:"",readonly:"","text-align":"right","input-align":"right"},model:{value:e.kyys,callback:function(t){e.kyys=t},expression:"kyys"}}),s("van-field",{staticStyle:{display:"none"},attrs:{id:"yysl",label:"预约数量：",clearable:"","text-align":"right","input-align":"right"},model:{value:e.yysl,callback:function(t){e.yysl=t},expression:"yysl"}})],1),e._m(1),s("van-cell-group",[s("van-field",{attrs:{id:"name",label:"代理人名称：",clearable:"",required:"","text-align":"right","input-align":"right"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("van-cell",{attrs:{id:"cerType",title:"代理人证件种类：",value:e.cerTypeValue,"is-link":"",center:"",required:""},on:{click:e.selectData}}),s("van-field",{attrs:{id:"cerNumber",label:"代理人证件号码：",clearable:"",required:"","text-align":"right","input-align":"right",type:"text"},model:{value:e.cerNumber,callback:function(t){e.cerNumber=t},expression:"cerNumber"}}),s("van-field",{attrs:{id:"phoNumber",label:"手机号码：",clearable:"",required:"","text-align":"right","input-align":"right",type:"tel"},model:{value:e.phoNumber,callback:function(t){e.phoNumber=t},expression:"phoNumber"}}),s("van-field",{attrs:{id:"orginational",label:"组织机构代码或营业执照：",clearable:"",required:"","text-align":"right","input-align":"right"},model:{value:e.orginational,callback:function(t){e.orginational=t},expression:"orginational"}})],1),e._m(2),s("van-button",{staticClass:"blueButton",attrs:{size:"large"},on:{click:function(t){return e.check()}}},[e._v("确认")]),s("div",{staticStyle:{height:"20px"}}),s("van-popup",{attrs:{position:"bottom",overlay:!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:e.calcedData()},on:{confirm:e.confirmPicker,cancel:function(t){e.show=!1}}})],1)],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"borderLeft"}),t("p",{staticClass:"titlep"},[this._v("预约事项及预约时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"borderLeft borderLeftBlue"}),t("p",{staticClass:"titlep"},[this._v("预约人信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip"},[t("p",{staticClass:"cp"},[this._v("提示：预约号当天有效。请申请人在预约成功当天，凭微信预约成功的信息到现场交件。")])])}],!1,null,"5ad9e353",null);t.default=j.exports},"5a4e":function(e,t,s){"use strict";var a=s("685a"),i={props:{title:{type:String,default:""}},data:function(){return{checkIOS:!1}},mounted:function(){this.checkIOS=Object(a.a)()},methods:{goBack:function(){this.$router.back()}}},l=(s("732a"),s("0c7c")),c=Object(l.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head-box",class:{sticky:this.checkIOS}},[t("header",{staticClass:"head-box-inner",class:{sticky:this.checkIOS}},[t("div",{staticClass:"back-btn"}),t("div",{staticClass:"title"},[this._v(this._s(this.title))])]),this.checkIOS?this._e():t("div",{staticClass:"empty-block"})])},[],!1,null,"352bd190",null);t.a=c.exports},"5d73":function(e,t,s){e.exports=s("469f")},"685a":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return i});s("4917");var a=function(){var e=window.navigator.userAgent;return/micromessenger/i.test(e)},i=function(){return!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},"732a":function(e,t,s){"use strict";var a=s("98d2");s.n(a).a},"774e":function(e,t,s){e.exports=s("d2d5")},"98d2":function(e,t,s){},b6d0:function(e,t,s){e.exports=s("fa2b")},b8c5:function(e,t,s){}}]);