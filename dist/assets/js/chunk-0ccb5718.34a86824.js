(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0ccb5718"],{1538:function(e,t,n){"use strict";var o=n("aed0");n.n(o).a},"685a":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});n("4917");var o=function(){var e=window.navigator.userAgent;return/micromessenger/i.test(e)},a=function(){return!!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},"716a":function(e,t,n){"use strict";n.r(t);var o=n("dc2b"),a=n("b970"),s=n("685a"),c=n("a78e"),u=n.n(c),r={components:{"head-nav-bar":o.a},data:function(){return{phoneNumber:"",sendSmsNumber:"",smsCode:"",smsCodeBtnValue:"获取验证码",countdownSize:60,curCount:0}},methods:{nextPage:function(){var e=this;if(""!==this.smsCode)if(""!==e.sendSmsNumber){var t={openId:Object(s.b)()?u.a.get("openid"):"",number:e.sendSmsNumber,code:e.smsCode};this.$post(ctx2+"/pubWeb/system/public/savePhoneNumberByOpenId",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t?a.e.alert({title:"提示",message:"手机号码设置成功，开始个人身份信息设置！"}).then(function(){e.$router.push({path:"/personalCheck2",query:{phoneNumber:e.phoneNumber}})}):Object(a.j)("验证码无效！")}).catch(function(e){console.log(e)})}else Object(a.j)("请获取验证码！");else Object(a.j)("请输入验证码！")},getSmsCode:function(){var e=this;if(""!==e.phoneNumber)if(/^1[3|4|5|7|8]\d{9}$/.test(e.phoneNumber)){this.$fetch(ctx2+"/pubWeb/system/public/smsCode?number="+e.phoneNumber).then(function(t){e.sendSmsNumber=e.phoneNumber}).catch(function(e){console.log(e)}),e.curCount=e.countdownSize,e.smsCodeBtnValue="倒计时 "+e.curCount+"S";var t=setInterval(function(){e.curCount>0?(e.curCount--,e.smsCodeBtnValue="倒计时 "+e.curCount+"S"):(clearInterval(t),e.smsCodeBtnValue="获取验证码")},1e3)}else Object(a.j)("手机号码格式不正确！");else Object(a.j)("请输入手机号码！")}},mounted:function(){var e=this,t=Object(s.b)()?u.a.get("openid"):"";e.$fetch("/pubWeb/public/faceRecognition/getAuthenticatedUserInfo?openId="+t).then(function(t){t&&e.$router.push({path:"/preApprove",query:{isPersonalHomeCheck:!0}})}).catch(function(e){console.log(e)})}},i=(n("1538"),n("0c7c")),l=Object(i.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex","flex-direction":"column"}},[n("head-nav-bar",{attrs:{title:"个人信息设置"}}),n("van-cell-group",[n("van-field",{attrs:{id:"phoneNumber",label:"手机号码",placeholder:"请输入手机号码",type:"number",clearable:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber="string"==typeof t?t.trim():t},expression:"phoneNumber"}}),n("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",type:"number",placeholder:"请输入验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}},[n("van-button",{staticClass:"btn-color",attrs:{slot:"button",size:"small",type:"default",disabled:0!=e.curCount},on:{click:e.getSmsCode},slot:"button"},[e._v(e._s(e.smsCodeBtnValue)+"\n\t\t\t")])],1)],1),n("div",{staticStyle:{"margin-top":"20px"}},[n("van-button",{staticClass:"blueButton",attrs:{size:"large"},on:{click:e.nextPage}},[e._v("下一步")])],1)],1)},[],!1,null,"4cbaa77f",null);t.default=l.exports},aed0:function(e,t,n){},dc2b:function(e,t,n){"use strict";var o={props:{title:{type:String,default:""}},data:function(){return{}},methods:{goBack:function(){this.$router.back()}},mounted:function(){}},a=n("0c7c"),s=Object(a.a)(o,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head-nav-bar"},[t("van-nav-bar",{attrs:{title:this.title,"left-text":"返回","left-arrow":""},on:{"click-left":this.goBack}})],1)},[],!1,null,"3ba45948",null);t.a=s.exports}}]);